<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Text To Speech</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      width: 100%;
      min-height: 100vh;
      font-family: "Poppins", sans-serif;
      background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)),url('school.jpg');
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center 70%;
      overflow-x: hidden;
    }

    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: red;
      padding: 20px 20px;
    }

    .logo {
      color: white;
      font-size: 26px;
      font-weight: bold;
    }

    .nav-list {
      list-style: none;
      display: flex;
      margin-left: auto;
    }

    .nav-list li {
      margin: 0 15px;
    }

    .nav-list a {
      color: white;
      text-decoration: none;
      transition: color 0.3s;
    }

    .nav-list a:hover {
      color: #f0a500;
    }

    .hamburger {
      display: none;
      flex-direction: column;
      justify-content: space-between;
      width: 30px;
      height: 21px;
      cursor: pointer;
      z-index: 101;
    }

    .bar {
      height: 3px;
      width: 25px;
      background-color: white;
      margin: 3px 0;
      display: block;
    }

    .footer {
      background-color: #0e1a35;
      color: white;
      padding: 30px 20px;
      text-align: center;
      margin-top: 40px;
      width: 100%;
    }

    .footer-column {
      margin-bottom: 20px;
    }

    .footer-column h3 {
      margin-bottom: 10px;
      font-size: 18px;
      font-weight: bold;
      position: relative;
      text-align: center;
    }

    .footer-column h3::after {
      content: "";
      display: block;
      width: 40px;
      height: 2px;
      background: white;
      margin: 10px auto 10px auto;
    }

    .footer-column p {
      font-size: 14px;
      line-height: 1.5;
      color: #ccc;
    }

    .footer-bottom {
      border-top: 1px solid #444;
      padding-top: 15px;
      font-size: 12px;
      color: #1F2a44;
    }

    .container {
      border: none;
      margin: 50px auto 90px auto;
      width: 530px;
      background-color: whitesmoke;
      padding: 50px 50px;
      border-radius: 50px;
      box-shadow: 0 5px 5px black;
      text-align: center;
    }

    .box {
      margin-right: 5px;
      height: 300px;
      line-height: 40px;
    }

    h1 {
      color: white;
      font-size: 30px;
      margin-bottom: 26px;
      font-weight: bold;
    }

    textarea {
      font-weight: bold;
      width: 90%;
      height: 200px;
      padding: 15px;
      font-size: 16px;
      border: 1px solid #ddd;
      border-radius: 12px;
      resize: none;
      outline: none;
      margin-bottom: 30px;
      color: #333;
      background-color: #fff;
    }

    textarea::placeholder {
      color: #999;
    }

    .btn {
      width: 100%;
      padding: 14px;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: bold;
      background-color: #36b3ff;
      color: black;
      cursor: pointer;
    }

    .output-box {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #ccc;
      background-color: #f9f9f9;
      font-size: 16px;
      white-space: pre-wrap;
      pointer-events: none;
    }

    @media (max-width: 1024px) {
      .container {
        width: 80%;
        padding: 40px;
      }
    }

    @media (max-width: 768px) {
      .nav-list {
        position: fixed;
        top: 0;
        left: -100%;
        width: 70%;
        height: 100vh;
        background-color: #333;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        transition: left 0.5s ease;
        padding: 2rem 0;
        display: flex;
      }

      .nav-list.active {
        left: 0;
        padding: 80px 100px;
      }

      .hamburger {
        display: flex;
        order: -1;
        margin-left: 0;
      }

      .logo {
        font-size: 24px;
        margin-right: 180px;
      }
    }

    @media (max-width: 480px) {
      .container {
        width: 95%;
        padding: 20px;
      }

      textarea {
        height: 120px;
        font-size: 13px;
      }

      .navbar .logo {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="logo">Text To Speech</div>
    <div class="hamburger">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </div>
    <ul class="nav-list">
      <li><a href="home.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>
  <div class="container">
    <div class="box">
      <textarea id="text-input" placeholder="Input or paste text"></textarea>
      <button id="generate-btn" class="btn">Generate Speech</button>
    </div>
    <div>
      <textarea id="output" class="output-box" readonly></textarea>
    </div>
    <audio id="tts-audio" style="display:none;" controls></audio>
  </div>
  <footer class="footer">
    <div class="footer-column">
      <h3>Text To Speech</h3>
      <p>
        Description: LUISIANO is a free online text-to-speech (TTS) tool that turns written
        text into spoken words and summarizes it for you. Simply input your text, and it will
        summarize the written text and convert it into spoken words. Perfect for students
        who prefer auditory learning or anyone needing text aloud.
      </p>
    </div>
    <p class="footer-bottom">Â© 2025 Text to Speech. All rights reserved.</p>
  </footer>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const hamburger = document.querySelector('.hamburger');
      const navList = document.querySelector('.nav-list');
      if (hamburger && navList) {
        hamburger.addEventListener('click', function() {
          hamburger.classList.toggle('active');
          navList.classList.toggle('active');
        });
      }

      const generateBtn = document.getElementById('generate-btn');
      const textInput = document.getElementById('text-input');
      const outputBox = document.getElementById('output');
      const audio = document.getElementById('tts-audio');

      if (generateBtn && textInput && outputBox) {
        generateBtn.addEventListener('click', async () => {
          const text = textInput.value;
          if (text.trim() === "") {
            outputBox.value = "Please enter some text.";
            audio.style.display = "none";
            audio.src = "";
          } else {
            outputBox.value = text;
            // Try browser TTS first, fallback to backend if not available
            if ('speechSynthesis' in window) {
              const utter = new SpeechSynthesisUtterance(text);
              window.speechSynthesis.speak(utter);
              audio.style.display = "none";
              audio.src = "";
            } else {
              // Backend TTS (fetch audio from server)
              try {
                outputBox.value = "Generating speech, please wait...";
                const response = await fetch('/api/tts', {
                  method: 'POST',
                  headers: { 'Content-Type': 'application/json' },
                  body: JSON.stringify({ text })
                });
                if (!response.ok) throw new Error("TTS failed");
                const blob = await response.blob();
                audio.src = URL.createObjectURL(blob);
                audio.style.display = "block";
                outputBox.value = text;
                audio.play();
              } catch (err) {
                outputBox.value = "TTS service unavailable.";
                audio.style.display = "none";
                audio.src = "";
              }
            }
          }
        });
      }
    });
  </script>
</body>
</html>